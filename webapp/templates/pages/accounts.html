{% extends 'layout.html' %}

{% block content %}
    <h1 class="mb-4">{{title}} page</h1>

    <!-- Example Table (Maybe to use for accounts page)-->
    <div class="card shadow mb-4">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                        <tr>
                            <th>Account</th>
                            <th>Type</th>
                            <th>Date Opened</th>
                            <th>Credit Limit</th>
                            <th>Benefit</th>
                            <th>Benefit Expiry</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Account</th>
                            <th>Type</th>
                            <th>Date Opened</th>
                            <th>Credit Limit</th>
                            <th>Benefit</th>
                            <th>Benefit Expiry</th>
                            <th>Notes</th>
                        </tr>
                    </tfoot>
                    <tbody>

                        {% for account in account_list %}

                        <tr>
                            <td><a href="{{ url_for('account_info', account_id=account.id) }}">{{account.account_name}}</a></td>
                            <td>{{account.account_type}}</td>
                            <td>{{account.date_opened}}</td>
                            <td>{{account.currency}} {{account.credit_limit}}</td>
                            <td>{{account.benefit}}</td>
                            <td>{{account.benefit_expiry}}</td>
                            <td>{{account.notes}}</td>
                        </tr>

                        {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <form method="POST" action="">
        {{ form.hidden_tag() }}
        <div class = "form-group">
            {{ form.account_name.label(class="form-control-label")}}
            {% if form.account_name.errors %}
                {{ form.account_name(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.account_name.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.account_name(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.account_type.label(class="form-control-label")}}
            {% if form.account_type.errors %}
                {{ form.account_type(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.account_type.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.account_type(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.currency.label(class="form-control-label")}}
            {% if form.currency.errors %}
                {{ form.currency(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.currency.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.currency(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.date_opened.label(class="form-control-label")}}
            {% if form.date_opened.errors %}
                {{ form.date_opened(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.date_opened.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.date_opened(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.credit_limit.label(class="form-control-label")}}
            {% if form.credit_limit.errors %}
                {{ form.credit_limit(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.credit_limit.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.credit_limit(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.benefit.label(class="form-control-label")}}
            {% if form.benefit.errors %}
                {{ form.benefit(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.benefit.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.benefit(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.benefit_expiry.label(class="form-control-label")}}
            {% if form.benefit_expiry.errors %}
                {{ form.benefit_expiry(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.benefit_expiry.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.benefit_expiry(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.pin.label(class="form-control-label")}}
            {% if form.pin.errors %}
                {{ form.pin(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.pin.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.pin(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.notes.label(class="form-control-label")}}
            {% if form.notes.errors %}
                {{ form.notes(class="form-control form-control-lg is-invalid")}}
                <div class="invalid-feedback">
                    {% for error in form.notes.errors %}
                        <span>{{ error }}</span>
                    {% endfor %}
                </div>
            {% else %}
                {{ form.notes(class="form-control form-control-lg")}}
            {% endif %}
        </div>
        <div class = "form-group">
            {{ form.submit(class="btn btn-outline-info w-100 mt-3") }}
        </div>
    </form>
{% endblock content %}